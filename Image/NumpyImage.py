"""
Program to convert Images to Numpy Arrays using OpenCV and vice versa
		by Aniruddha
"""

import cv2

im_g = cv2.imread("smallgray.png",0)	#0 = grayscale
print(im_g)

#***
#	[[187 158 104 121 143]
#	 [198 125 255 255 147]
#	 [209 134 255  97 182]]
#***
 
 
im_bgr = cv2.imread("smallgray.png",1)	#1 = bgr
print(im_bgr)

#***
#	[[[187 187 187]
#	  [158 158 158]
#	  [104 104 104]
#	  [121 121 121]
#	  [143 143 143]]

#	 [[198 198 198]
#	  [125 125 125]
#	  [255 255 255]
#	  [255 255 255]
#	  [147 147 147]]

#	 [[209 209 209]
#	  [134 134 134]
#	  [255 255 255]
#	  [ 97  97  97]
#	  [182 182 182]]]
#***
cv2.imwrite("newimg.png",im_g)


print(type(im_g))

#***
#	<class 'numpy.ndarray'>
#***


print(im_g)

#***
#	[[187 158 104 121 143]
#	 [198 125 255 255 147]
#	 [209 134 255  97 182]]
#***


print(im_g[0:2]) #rows 0 to 1

#***
#	[[187 158 104 121 143]
#	 [198 125 255 255 147]]
#***


print(im_g[0:2,2:4]) #rows 0 to 1 & columns 2 to 3

#***
#	[[104 121]
#	 [255 255]]
#***


print(im_g.shape) #dimension of im_g

#***
#	(3,5)
#***


print(im_g[:,2:4]) #all rows & columns 2 to 3

#***
#	[[104 121]
#	 [255 255]
#	 [255  97]]
#***


print(im_g[2,1]) #rows 2 & columns 1 

#***
#	134
#***


for i in im_g:	#print numpy array
    print(i)
 
#***
#	[187 158 104 121 143]
#	[198 125 255 255 147]
#	[209 134 255  97 182]
#***

   
for i in im_g.T:	#print numpy array column wise
    print(i)
  
#***
#	[187 198 209]
#	[158 125 134]
#	[104 255 255]
#	[121 255  97]
#	[143 147 182]
#***

  
for i in im_g.flat:	#print numpy array elements
    print(i)
  
#***
#	187
#	158
#	104
#	121
#	143
#	198
#	125
#	255
#	255
#	147
#	209
#	134
#	255
#	97
#	182
#***

import numpy
imh = numpy.hstack((im_g,im_g,im_g))
print(imh)

#***
#	[[187 158 104 121 143 187 158 104 121 143 187 158 104 121 143]
#	 [198 125 255 255 147 198 125 255 255 147 198 125 255 255 147]
#	 [209 134 255  97 182 209 134 255  97 182 209 134 255  97 182]]
#***

imv = numpy.vstack((im_g,im_g,im_g))
print(imv,"\n\n")

#***
#	[[187 158 104 121 143]
#	 [198 125 255 255 147]
#	 [209 134 255  97 182]
#	 [187 158 104 121 143]
#	 [198 125 255 255 147]
#	 [209 134 255  97 182]
#	 [187 158 104 121 143]
#	 [198 125 255 255 147]
#	 [209 134 255  97 182]]
#***

lsth = numpy.hsplit(imh,5)
print(lsth)

#***
#	[array([[187, 158, 104],
#	       [198, 125, 255],
#	       [209, 134, 255]], dtype=uint8), array([[121, 143, 187],
#	       [255, 147, 198],
#	       [ 97, 182, 209]], dtype=uint8), array([[158, 104, 121],
#	       [125, 255, 255],
#	       [134, 255,  97]], dtype=uint8), array([[143, 187, 158],
#	       [147, 198, 125],
#	       [182, 209, 134]], dtype=uint8), array([[104, 121, 143],
#	       [255, 255, 147],
#	       [255,  97, 182]], dtype=uint8)]
#***


lstv = numpy.vsplit(imv,3)
print(lstv)

#***
#	[array([[187, 158, 104, 121, 143],
#	       [198, 125, 255, 255, 147],
#	       [209, 134, 255,  97, 182]], dtype=uint8), array([[187, 158, 104, 121, 143],
#	       [198, 125, 255, 255, 147],
#	       [209, 134, 255,  97, 182]], dtype=uint8), array([[187, 158, 104, 121, 143],
#	       [198, 125, 255, 255, 147],
#	       [209, 134, 255,  97, 182]], dtype=uint8)]
#***
